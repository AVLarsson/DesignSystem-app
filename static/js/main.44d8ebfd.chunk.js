(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{122:function(e,t,a){},155:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(56),i=a.n(l),o=(a(72),a(3)),s=a(4),c=a(5),u=a(6),m=a(16),d=a(19),p=(a(29),a(40),a(41),a(30),a(78),a(80),a(25),a(83),a(42),a(86),a(11)),h=a(24),g=a.n(h),f=(a(87),a(89),r.a.createContext(null));g.a.initializeApp({apiKey:"AIzaSyB4DQfTqNMJrnRQv4h4hrAfM7PWNmjFVWo",authDomain:"designsystem-app.firebaseapp.com",databaseURL:"https://designsystem-app.firebaseio.com",projectId:"designsystem-app",storageBucket:"designsystem-app.appspot.com",messagingSenderId:"584912358716",appId:"1:584912358716:web:f28876b182d1cd29e7a239",measurementId:"G-4ELWFERPBF"});var y=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).doSignInAnonymously=function(){var e=n.getOrderId();n.state.auth.signInAnonymously().then((function(t){return n.saveOrderData(t,JSON.stringify(e))})).catch((function(e){return n.errorMessage(e)}))},n.errorMessage=function(e){return r.a.createElement("p",null,"Sign in failed. Error code: ",JSON.stringify(e.code),". Error message: ",JSON.stringify(e.message),".")},n.state={db:g.a.database(),auth:g.a.auth(),orderId:"",order:[]},g.a.auth().onAuthStateChanged((function(e){})),n.setState=n.setState.bind(Object(p.a)(n)),n.getOrderId=n.getOrderId.bind(Object(p.a)(n)),n}return Object(s.a)(a,[{key:"componentDidCatch",value:function(e,t){return r.a.createElement("p",null,"An error occured. Error: ",JSON.stringify(e),". ErrorInfo: ",JSON.stringify(t),".")}},{key:"saveOrderData",value:function(e,t){var a=r.a.useContext(f);console.log(a,"yes"),null!==e.user&&Object.keys(this.context.cart).forEach((function(e){}))}},{key:"getOrderId",value:function(){return JSON.stringify(Math.floor(89998*Math.random())+1e4)}},{key:"getUserData",value:function(){var e=this;this.state.auth.onAuthStateChanged((function(t){t&&e.state.db.ref("/test/".concat(null===t||void 0===t?void 0:t.uid)).once("value").then((function(e){e.forEach((function(e){var t=e.val();Object.keys(t).forEach((function(e){console.log(Object.entries(Object.keys(t)))}))}))}))}))}}]),a}(r.a.Component),b=r.a.createContext(null),E=y,v=a(22),x=a(10),C=a(1),S=a(27),N=a(8),k=(a(122),a(15)),w=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).animationTimer=0,n.setLoadingTimer=function(){n.animationTimer&&n.clearLoadingTimer(),n.animationTimer=setTimeout((function(){n.setState({disableButton:!1,show:!1}),n.animationTimer=0}),2e3)},n.clearLoadingTimer=function(){n.animationTimer&&(clearTimeout(n.animationTimer),n.animationTimer=0)},n.toggleState=function(){n.props.onClick(),n.setState({disableButton:!0,show:!0}),n.setLoadingTimer()},n.state={show:!1,disableAnimation:!1,disableButton:!1},n.toggleState=n.toggleState.bind(Object(p.a)(n)),n}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return n.createElement(n.Fragment,null,n.createElement(N.DefaultButton,{className:"product".concat(this.props.id),disabled:this.state.disableButton,icon:this.state.disableButton?n.createElement(k.Icon,{src:"spinner-lg"}):null,onClick:this.toggleState},this.state.disableButton?"Adding...":"Add to cart"),n.createElement(S.Modal,{animationDuration:this.state.disableAnimation?0:void 0,title:"Successfully added item to cart!",size:this.context.windowWidth<=481?"calc(80% + 2rem)":"auto",dialogClassName:"display-flex center paxl",show:this.state.show,onHide:function(){return e.setState({show:!1})}},n.createElement(N.DefaultButton,{large:!0,flat:!0,style:{width:"100%",marginTop:"3rem"},onClick:function(){return e.setState({show:!1})}},"Close")))}},{key:"componentDidMount",value:function(){clearTimeout(this.animationTimer)}},{key:"componentWillUnmount",value:function(){(this.state.disableButton||this.state.show)&&clearTimeout(this.animationTimer)}}]),a}(n.Component);function j(e){var t=r.a.useContext(f),a=t.addToCart,n=t.removeFromCart,l=e.product,i=l.id,o=l.name,s=l.description,c=l.price,u=l.image,d=l.quantity;return"/DesignSystem-app"===window.location.pathname||"/DesignSystem-app/"===window.location.pathname||"/DesignSystem-app/checkout"===window.location.pathname||"/"===window.location.pathname||"/checkout"===window.location.pathname?r.a.createElement("div",{className:"".concat(e.showCart?"showCart display-flex row":"column"," Products ").concat(e.className?e.className:"")},r.a.createElement(m.b,{to:"/product".concat(i)},r.a.createElement("span",{className:"productImage mtl ".concat(e.showCart?"mobile":"")},r.a.createElement("img",{alt:"".concat(s),src:u}))),r.a.createElement("span",{className:"".concat(e.showCart&&!e.mobileView?"display-flex":"")},r.a.createElement("p",{className:"mtl productTitle em-max type-md"},o),r.a.createElement("p",{className:"prodictDescription type-sm"},s),r.a.createElement("p",{className:" productPrice type-sm"},c,"kr"),e.showCart?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"productQuantity type-sm"},"Quantity: ",d),r.a.createElement(N.DangerButton,Object.assign({onClick:function(){return n(i)}},{style:{minWidth:"5em",maxWidth:"10em"}}),"Remove")):r.a.createElement(w,{id:i,onClick:function(){return a(i)}}))):r.a.createElement(r.a.Fragment,null,e.showCart?r.a.createElement("div",{className:"".concat(e.showCart?"showCart display-flex row":"column"," Products ").concat(e.className?e.className:"")},r.a.createElement("a",{href:"/product".concat(i)},r.a.createElement("span",{className:"productImage mtl ".concat(e.showCart?"mobile":"")},r.a.createElement("img",{alt:"".concat(s),src:u}))),r.a.createElement("span",{className:"".concat(e.showCart&&!e.mobileView?"display-flex":"")},r.a.createElement("p",{className:"mtl productTitle em-max type-md"},o),r.a.createElement("p",{className:"prodictDescription type-sm"},s),r.a.createElement("p",{className:" productPrice type-sm"},c,"kr"),e.showCart?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"productQuantity type-sm"},"Quantity: ",d),r.a.createElement(N.DangerButton,Object.assign({onClick:function(){return n(i)}},{style:{minWidth:"5em",maxWidth:"10em"}}),"Remove")):r.a.createElement(w,{id:i,onClick:function(){return a(i)}}))):r.a.createElement(C.Grid,{className:"grid-show mbxl",justifyContent:"space-evenly"},r.a.createElement(C.FlexCol,Object.assign({col:16},{style:{maxWidth:"30rem",height:"37rem"},contentAlignment:"middle",breakpoint:"sm"}),r.a.createElement("div",{style:{width:"100%",height:"80%"}},r.a.createElement("img",{alt:"".concat(s),src:u,style:{maxHeight:"45rem",maxWidth:"100%",objectFit:"cover"}}))),r.a.createElement(C.FlexCol,Object.assign({col:6},{style:{maxWidth:"30rem",height:"35rem",marginTop:"4rem"},breakpoint:"sm"}),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("span",{className:"pll display-flex em-high h1"},o),r.a.createElement("br",null),r.a.createElement("span",{className:"pll display-flex h2"},c,"kr"),e.showCart?null:r.a.createElement(w,{id:i,onClick:function(){return a(i)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",{className:"pll display-flex"},s)))))}w.contextType=f;var O=a(59),P=a.n(O),I=a(60),T=a.n(I),F=a(61),B=a.n(F),D=a(62),A=a.n(D),W=a(63),L=a.n(W),V=a(64),J=a.n(V),z=[{id:1,name:"Leopard Print Coat",description:"Leopard print coat with neon accents.",price:"299",image:P.a,quantity:1},{id:2,name:"Round Sunglasses",description:"Round, yellow sunglasses with a silver frame.",price:"279",image:A.a,quantity:1},{id:3,name:"New Balance X-90 Pink",description:"New Balance sneakers model X-90 in pale pink.",price:"599",image:L.a,quantity:1},{id:4,name:"Lounge Blazer",description:"A slouchy, lounge blazer in cerise pink.",price:"449",image:T.a,quantity:1},{id:5,name:"Satin Boots",description:"A pair of boots in a cerise pink, made of smooth satin.",price:"389",image:B.a,quantity:1},{id:6,name:"Gold Bomber Jacket",description:"An oversized bomber jacket in a sparkly gold.",price:"629",image:J.a,quantity:1}],R=function(){var e=r.a.useContext(f),t=e.currentCart,a=e.cart;return r.a.createElement(v.Siteframe,{headerProps:{className:"bg-light-gray paxl",companyName:r.a.createElement("span",{className:"type-black"},"RetroShop"),cols:[r.a.createElement(C.Grid,Object.assign({className:"grid-show position-fixed type-black em-alt"},{style:{right:"0"}},{flexDirection:"row",justifyContent:"space-between"}),r.a.createElement(C.FlexCol,{fixed:!0},r.a.createElement("span",null,"Accessories")),r.a.createElement(C.FlexCol,{fixed:!0},r.a.createElement("span",null,"Clothes")),r.a.createElement(C.FlexCol,{fixed:!0},r.a.createElement("span",null,"Brands")))]},sidebarProps:{className:"bg-decorative-yellow",primaryLinks:[{text:[r.a.createElement("img",{alt:"RetroShop logo",key:"000",style:{width:"90%",margin:"auto"},src:"https://i.imgur.com/ANCnCV1.png"})],id:"logo"},{text:"Coat",path:"/product",id:"1"},{text:"Sunglasses",path:"/product",id:"2"},{text:"Sneakers",path:"/product",id:"3"},{text:"Blazer",path:"/product",id:"4"},{text:"Boots",path:"/product",id:"5"},{text:"Jacket",path:"/product",id:"6"},{text:"All products",path:"/",id:""}],secondaryLinks:[{text:"Shopping Bag"},{text:"Checkout",path:"/checkout",id:"0"}],renderLink:function(e){var n=e.text,l=e.path,i=e.id;return r.a.createElement(r.a.Fragment,null,"logo"===i?n:l?r.a.createElement(m.b,{to:"".concat("/checkout"!==l?"".concat(l).concat(i):a.length>=1?l:"/"),key:i,href:l,style:{padding:"3px",color:"unset",textDecoration:"none"}},r.a.createElement(N.DefaultButton,{disabled:"/checkout"===l&&0===a.length,className:"0"===i?"":"mlxl pan pui-btn--flat type-black"},n)):r.a.createElement(N.DefaultButton,{className:"mas",onClick:t},n))}}},r.a.createElement("div",{className:"bg-light-green scroll",style:{height:"100%",width:"auto"}},r.a.createElement(x.Panel,{className:"bg-light-green display-flex",style:{backgroundImage:'url("https://i.imgur.com/6Ncy7S2.png")',minWidth:"fit-content",width:"auto",height:"20%",overflow:"auto",padding:"0"}}),r.a.createElement(x.Panel,{header:r.a.createElement("h3",{className:"mam"},"All products"),className:"scroll display-flex",style:{minWidth:"fit-content",width:"auto",height:"auto"}},r.a.createElement(C.Grid,{className:"grid-show pbxl scroll",justifyContent:"space-evenly"},z.map((function(e){return r.a.createElement(C.FlexCol,{key:e.id,col:8,className:"width-product pan"},r.a.createElement(j,{key:e.id,showCart:!1,product:e}))}))))))},G=(a(125),a(32),a(65)),q=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).centeringStyle={margin:"0",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"20px"},e.centeringStyleImage={margin:"0",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"40px",maxHeight:"20rem"},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return n.createElement("div",{style:{display:"flex",justifyContent:"center",justifySelf:"center"}},n.createElement("img",{style:this.centeringStyleImage,src:this.props.product.image,alt:""}),n.createElement("p",{style:this.centeringStyle},this.props.product.name),n.createElement("p",{style:this.centeringStyle},"Price: ",this.props.product.price,"kr"),n.createElement("p",{style:this.centeringStyle},"Quantity: ",this.props.product.quantity),n.createElement(k.Icon,{onClick:function(){return e.props.onAdd(e.props.product)},src:"add_circle"}),n.createElement(k.Icon,{onClick:function(){return e.props.onMinus(e.props.product,e.props.product.id)},src:"cancel"}))}}]),a}(n.Component),Y=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return n.createElement(f.Consumer,null,(function(t){return n.createElement("div",{style:M},n.createElement("h2",{style:H},"You have this many different items: ",e.props.cart.filter((function(e){return e.quantity>0})).length),e.props.cart.map((function(e){return n.createElement(q,{key:e.id,product:e,onAdd:function(){return t.addToCart(e.id)},onMinus:function(){return t.removeFromCart(e.id)}})})))}))}}]),a}(n.Component),M={display:"flex",flexDirection:"column",justifyContent:"center",justifySelf:"center"},H={margin:"20px"},K=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).saveToLocale=function(e){var t=JSON.stringify(e.target.value);t.match("@")&&(t=JSON.stringify(e.target.value).replace("@","[AT]")),localStorage.setItem(e.target.name,t)},e}return Object(s.a)(a,[{key:"render",value:function(){return n.createElement(x.Panel,{style:{display:"flex",justifyContent:"center",padding:"2rem"}},n.createElement(C.FlexCol,null,n.createElement(C.Grid,null,n.createElement(C.FlexCol,null,this.props.fields.firstNameInfo),n.createElement(C.FlexCol,null,this.props.fields.lastNameInfo)),n.createElement(C.Grid,null,n.createElement(C.FlexCol,null,this.props.fields.emailInfo),n.createElement(C.FlexCol,null,this.props.fields.phoneNumberInfo)),n.createElement(C.Grid,null,n.createElement(C.FlexCol,null,this.props.fields.adress),n.createElement(C.FlexCol,null,this.props.fields.zipcode)),n.createElement(C.Grid,null,n.createElement(C.FlexCol,null,this.props.fields.country))))}}]),a}(n.Component),Q=(a(35),function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleDivSelect=function(e){n.setState({selected:e.currentTarget.id}),n.props.passShipping(e.currentTarget.id)},n.shippingPaymentBox={minWidth:"120px",maxWidth:"200px",height:"150px",backgroundColor:"lightgray",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",margin:"10px",fontSize:"16px",fontWeight:"bold"},n.shippingPaymentBoxInside={width:"100px",height:"50px",margin:"0",display:"flex",alignItems:"center",justifyContent:"center"},n.handleDivSelect=n.handleDivSelect.bind(Object(p.a)(n)),n.state={selected:""},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state.selected;return n.createElement("div",{className:"pui-no-select",style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"}},n.createElement(C.FlexCol,{onClick:this.handleDivSelect,id:"dhl",className:"dhl shippingDiv ".concat("dhl"===e?"bg-light-teal":"bg-light-gray",' border-rounded"'),style:this.shippingPaymentBox},n.createElement("div",{className:"bg-accent-teal border-rounded type-white",style:this.shippingPaymentBoxInside},"DHL"),n.createElement("p",null,"24h"),n.createElement("p",{className:"amountForShipping"},"99kr")),n.createElement(C.FlexCol,{onClick:this.handleDivSelect,id:"shenker",className:"shenker shippingDiv ".concat("shenker"===e?"bg-light-teal":"bg-light-gray",' border-rounded"'),style:this.shippingPaymentBox},n.createElement("div",{className:"bg-accent-teal border-rounded type-white",style:this.shippingPaymentBoxInside},"Shenker"),n.createElement("p",null,"48h"),n.createElement("p",{className:"amountForShipping"},"49kr")),n.createElement(C.FlexCol,{onClick:this.handleDivSelect,id:"postnord",className:"postnord shippingDiv ".concat("postnord"===e?"bg-light-teal":"bg-light-gray",' border-rounded"'),style:this.shippingPaymentBox},n.createElement("div",{className:"bg-accent-teal border-rounded type-white",style:this.shippingPaymentBoxInside},"Postnord"),n.createElement("p",null,"72h"),n.createElement("p",{className:"amountForShipping"},"free")))}}]),a}(n.Component)),U=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).SelectDiv=function(e){n.setState({selected:e.currentTarget.id},n.sendToParent)},n.sendToParent=function(){n.props.displayPayment(n.state)},n.shippingPaymentBox={minWidth:"120px",maxWidth:"200px",height:"150px",backgroundColor:"lightgray",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",margin:"10px",fontSize:"16px",fontWeight:"bold"},n.shippingPaymentBoxInside={width:"100px",height:"50px",margin:"0",display:"flex",alignItems:"center",justifyContent:"center"},n.state={selected:""},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state.selected;return n.createElement("div",null,n.createElement("div",{className:"pui-no-select",style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"}},n.createElement(C.FlexCol,{onClick:this.SelectDiv,id:"bankCard",className:"bankCard shippingDiv ".concat("bankCard"===e?"bg-light-teal":"bg-light-gray",' border-rounded"'),style:this.shippingPaymentBox},n.createElement("div",{className:"bg-accent-teal border-rounded type-white",style:this.shippingPaymentBoxInside},"Bank Card"),n.createElement("p",null,"Mastercard"),n.createElement("p",null,"Visa")),n.createElement(C.FlexCol,{onClick:this.SelectDiv,id:"Swish",className:"Swish shippingDiv ".concat("Swish"===e?"bg-light-teal":"bg-light-gray",' border-rounded"'),style:this.shippingPaymentBox},n.createElement("div",{className:"bg-accent-teal border-rounded type-white",style:this.shippingPaymentBoxInside},"Swish"),n.createElement("p",null,"Pay with"),n.createElement("p",null," your phone")),n.createElement(C.FlexCol,{onClick:this.SelectDiv,id:"Klarna",className:"Klarna shippingDiv ".concat("Klarna"===e?"bg-light-teal":"bg-light-gray",' border-rounded"'),style:this.shippingPaymentBox},n.createElement("div",{className:"bg-accent-teal border-rounded type-white",style:this.shippingPaymentBoxInside},"Klarna"),n.createElement("p",null,"Split up"),n.createElement("p",null," your payment"))))}}]),a}(n.Component),X=(a(36),function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){return n.createElement(x.Panel,{style:{display:"flex",justifyContent:"center",padding:"2rem"}},n.createElement(C.FlexCol,null,n.createElement(C.Grid,null,n.createElement(C.FlexCol,null,this.props.fields.firstName),n.createElement(C.FlexCol,null,this.props.fields.lastName)),n.createElement(C.Grid,null,n.createElement(C.FlexCol,null,this.props.fields.bankNumber),n.createElement(C.FlexCol,null,this.props.fields.cvc)),n.createElement(C.Grid,null,n.createElement(C.FlexCol,null,this.props.fields.month),n.createElement(C.FlexCol,null,this.props.fields.year))))}}]),a}(n.Component));X.contextType=f;var Z=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){return n.createElement(x.Panel,{style:{display:"flex",justifyContent:"center",padding:"2rem"}},n.createElement(C.FlexCol,null,n.createElement(C.Grid,null,n.createElement(C.FlexCol,null,this.props.fields.firstName),n.createElement(C.FlexCol,null,this.props.fields.lastName)),n.createElement(C.Grid,null,n.createElement(C.FlexCol,null,this.props.fields.email))))}}]),a}(n.Component);Z.contextType=f;var $=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={firstName:"",lastName:"",phoneNumber:""},n}return Object(s.a)(a,[{key:"render",value:function(){return n.createElement(x.Panel,{style:{display:"flex",justifyContent:"center",padding:"2rem"}},n.createElement(C.FlexCol,null,n.createElement(C.Grid,null,n.createElement(C.FlexCol,null,this.props.fields.firstName),n.createElement(C.FlexCol,null,this.props.fields.lastName)),n.createElement(C.Grid,null,n.createElement(C.FlexCol,null,this.props.fields.phoneNumber))))}}]),a}(n.Component);$.contextType=f;var _=function(e){var t=Object(d.f)();return n.createElement("div",{id:"receipt",style:{position:"fixed",backgroundColor:"lightgray",marginLeft:"40%",width:"400px",bottom:"10vh",top:"10vh",display:"flex",alignItems:"center",flexDirection:"column",border:"2px solid black",borderRadius:"16px",justifyContent:"space-around"}},n.createElement("h2",null,"Receipt"),n.createElement("p",null,"-----------------------------------------"),n.createElement("h3",null,"The products costs ".concat(e.status.price),"kr"),n.createElement("h3",null,"The shipping costs ".concat(e.status.shippingPrice,"kr")),n.createElement("h3",null,"The shipping will take ".concat(e.status.shippingTime," day(s)")),n.createElement("h3",null,"Est. delivery: ".concat(e.deliveryDate())),n.createElement("h3",null,"Total price is ".concat(e.status.totalPrice," kr")),n.createElement(N.BrandButton,{onClick:function(){return t.push("/")}},"Ok, take me to the start page!"))},ee=a(66),te=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,ae=new Date,ne={firstName:{initialValue:"",validator:function(e){return se(e)?"You can only enter letters":e.length<1?"Please enter your first name":null},label:"First Name"},lastName:{initialValue:"",validator:function(e){return se(e)?"You can only enter letters":e.length<1?"Please enter your last name":null},label:"Last Name"},bankNumber:{initialValue:"",validator:function(e){return se(e)?e.length<10?"Please enter at least 10 digits":null:"Please enter a number"},label:"Card Number"},cvc:{initialValue:"",validator:function(e){return se(e)?3!==e.length?"Please enter 3 numbers":null:"Please enter a number"},label:"CVC"},month:{label:"Month",help:"Two Numbers",initialValue:"",validator:function(e){return se(e)?e>12?"Please enter a valid month":null:"Please enter a number"}},year:{label:"Year",help:"Four Numbers",initialValue:"",className:"txt-b",validator:function(e){return se(e)?e<ae.getFullYear()||e>9999?"Your card has expired":null:"Please enter a number"}}},re={firstName:{initialValue:"",validator:function(e){return se(e)?"You can only enter letters":e.length<1?"Please enter your first name":null},label:"First Name"},lastName:{initialValue:"",validator:function(e){return se(e)?"You can only enter letters":e.length<1?"Please enter your last name":null},label:"Last Name"},email:{initialValue:"",validator:function(e){return!ce(e)||e.length<1?"Please enter a valid email as yourname@gmail.com":null},label:"Email",help:"Hint: yourname@gmail.com"}},le={firstName:{initialValue:"",validator:function(e){return se(e)?"You can only enter letters":e.length<1?"Please enter your first name":null},label:"First Name"},lastName:{initialValue:"",validator:function(e){return se(e)?"You can only enter letters":e.length<1?"Please enter your last name":null},label:"Last Name"},phoneNumber:{initialValue:"",validator:function(e){return se(e)?e.length<1?"Please enter a valid phone number":null:"Please enter a valid phone number"},label:"Phone Number"}},ie={firstNameInfo:{initialValue:oe("firstNameInfo"),validator:function(e){return se(e)?"You can only enter letters":e.length<1?"Please enter your first name":null},label:"First Name"},lastNameInfo:{initialValue:oe("lastNameInfo"),validator:function(e){return se(e)?"You can only enter letters":e.length<1?"Please enter your last name":null},label:"Last Name"},emailInfo:{initialValue:oe("emailInfo"),validator:function(e){return!ce(e)||e.length<1?"Please enter a valid email as yourname@gmail.com":null},label:"Email",help:"Hint: yourname@gmail.com"},phoneNumberInfo:{initialValue:oe("phoneNumberInfo"),validator:function(e){return!se(e)||e.length<1?"Please enter a valid phone number":null},label:"Phone Number"},adress:{initialValue:oe("adress"),validator:function(e){return e.length<1?"Please enter your Adress":null},label:"Adress"},zipcode:{initialValue:oe("zipcode"),validator:function(e){return se(e)?null:"Please enter your zipcode"},label:"Zipcode"},country:{initialValue:oe("country"),validator:function(e){return se(e)||e.length<1?"Please enter your country":null},label:"Country"}};function oe(e){return"firstNameInfo"===e&&localStorage.firstNameInfo?JSON.parse(localStorage.firstNameInfo):"lastNameInfo"===e&&localStorage.lastNameInfo?JSON.parse(localStorage.lastNameInfo):"emailInfo"===e&&localStorage.emailInfo?JSON.parse(localStorage.emailInfo).replace("[AT]","@"):"phoneNumberInfo"===e&&localStorage.phoneNumberInfo?JSON.parse(localStorage.phoneNumberInfo):"adress"===e&&localStorage.adress?JSON.parse(localStorage.adress):"zipcode"===e&&localStorage.zipcode?JSON.parse(localStorage.zipcode):"country"===e&&localStorage.country?JSON.parse(localStorage.country):""}function se(e){return new RegExp(/^[0-9\s]+$/i).test(e)}function ce(e){return new RegExp(te).test(e)}var ue=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getDeliveryDate=function(){var e=new Date;return e.setDate(e.getDate()+parseInt(n.state.shippingTime)),e.toDateString().split(" ",3).join(" ")},n.showFields=function(){var e=n.state,t=e.hideBankCard,a=e.hideSwish,r=e.hideKlarna;return t?a?r?{}:re:le:ne},n.handleConfirmClick=function(){n.checkShippingChosen()},n.passShipping=function(e){"dhl"===e&&(console.log("dhl has been selected"),n.setState({dhlSelected:!0,shenkerSelected:!1,postNordSelected:!1,shipment:"dhl"})),"shenker"===e&&(console.log("shenker has been selected"),n.setState({dhlSelected:!1,shenkerSelected:!0,postNordSelected:!1,shipment:"shenker"})),"postnord"===e&&(console.log("postnord has been selected"),n.setState({dhlSelected:!1,shenkerSelected:!1,postNordSelected:!0,shipment:"postnord"}))},n.displayPayment=function(e){"bankCard"===e.selected&&n.setState({hideBankCard:!1,hideSwish:!0,hideKlarna:!0,payment:"bankcard"}),"Swish"===e.selected&&n.setState({hideBankCard:!0,hideSwish:!1,hideKlarna:!0,payment:"swish"}),"Klarna"===e.selected&&n.setState({hideBankCard:!0,hideSwish:!0,hideKlarna:!1,payment:"klarna"})},n.state={dhlSelected:!1,shenkerSelected:!1,postNordSelected:!1,hideBankCard:!0,hideSwish:!0,hideKlarna:!0,cart:[],hideReceipt:!0,price:0,shippingPrice:0,shippingTime:"",totalPrice:0,shipment:"",date:new Date,payment:"",isLoading:!1,success:!1},n.setState=n.setState.bind(Object(p.a)(n)),n}return Object(s.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"setLocalStorageValues",value:function(e){localStorage.setItem("firstNameInfo",JSON.stringify(e.firstNameInfo)),localStorage.setItem("lastNameInfo",JSON.stringify(e.lastNameInfo)),localStorage.setItem("emailInfo",JSON.stringify(e.emailInfo).replace("@","[AT]")),localStorage.setItem("phoneNumberInfo",JSON.stringify(e.phoneNumberInfo)),localStorage.setItem("adress",JSON.stringify(e.adress)),localStorage.setItem("zipcode",JSON.stringify(e.zipcode)),localStorage.setItem("country",JSON.stringify(e.country))}},{key:"handleSubmit",value:function(e){var t=this;this.setState({isLoading:!0},(function(){return t.setLocalStorageValues(e)})),setTimeout((function(){t.setState({isLoading:!1,success:!0})}),2e3),this.checkShippingChosen(),this.context.cart=[]}},{key:"render",value:function(){var e=this;return console.log(this.context.cart,this.state.shipment),n.createElement(f.Consumer,null,(function(t){return n.createElement("div",{style:{position:"relative",height:"100vh"}},n.createElement(G.Form,{resetOnSubmit:!0,onSubmit:function(t){t.initial;var a=t.current;return e.handleSubmit(a)},fields:Object.assign({},ie,e.showFields())},(function(a){var r=a.fields,l=a.onBlur,i=a.onSubmit,o=a.canSubmit;return!l&&console.log("blur"),n.createElement(v.Siteframe,{headerProps:{className:"bg-light-gray paxl",companyName:n.createElement("span",{className:"type-black"},"RetroShop"),productName:n.createElement(m.b,{to:"/"},n.createElement(N.BrandButton,{className:"no-un"},"Go to frontPage"))}},n.createElement("div",{className:"bg-light-green paxl scroll",style:{height:"100%",overflow:"scroll"}},e.state.hideReceipt?null:n.createElement(_,{status:e.state,deliveryDate:e.getDeliveryDate}),n.createElement(x.Panel,Object.assign({className:"txt-c"},{title:"Shopping Bag"}),n.createElement(Y,{cart:t.cart}),n.createElement("p",{className:"txt-r h4 em-high"},"Total: ",e.getTotal(),"kr")),n.createElement(x.Panel,Object.assign({className:"txt-c"},{title:"Your Information"}),n.createElement(K,{fields:r,status:e.state})),n.createElement(x.Panel,Object.assign({className:"txt-c"},{title:"Shipping"}),n.createElement(Q,{passShipping:e.passShipping})),n.createElement(x.Panel,Object.assign({className:"txt-c"},{title:"Payment"}),n.createElement(U,{displayPayment:e.displayPayment}),e.state.hideBankCard?null:n.createElement(X,{fields:r}),e.state.hideKlarna?null:n.createElement(Z,{fields:r}),e.state.hideSwish?null:n.createElement($,{fields:r}),e.state.isLoading&&n.createElement(k.Icon,{style:{fontSize:"96px"},src:"spinner-lg"}),e.state.success&&n.createElement(ee.SuccessAlert,{withIcon:!0},"Your order has been placed."),!e.state.success&&!e.state.isLoading&&n.createElement(N.PrimaryButton,{onClick:function(){return e.context.cart.length!==[]&&0!==e.context.cart.length&&e.context.cart?o()?""===e.state.shipment?alert("Please select a shipping method"):i():alert("Please make sure everything is filled in correctly"):alert("Your shopping cart is empty")}},"Confirm order"))))})))}))}},{key:"getTotal",value:function(){return this.context.getCurrentTotal()}},{key:"checkShippingChosen",value:function(){return!0===this.state.dhlSelected?(console.log("DHL has been chosen"),this.orderHasBeenPlaced({cost:99,time:1}),!0):!0===this.state.shenkerSelected?(console.log("Shenker has been chosen"),this.orderHasBeenPlaced({cost:49,time:2}),!0):!0===this.state.postNordSelected?(console.log("Postnord has been chosen"),this.orderHasBeenPlaced({cost:0,time:3}),!0):(alert("Please choose a shipping method"),!1)}},{key:"orderHasBeenPlaced",value:function(e){var t=this,a=this.context;console.log("order placed");var n=this.getTotal(),r=n+e.cost;return this.setState({shippingPrice:e.cost,shippingTime:e.time,price:n,totalPrice:r},(function(){return setTimeout((function(){t.setState({hideReceipt:!1})}),2e3)})),a.cart.length=0,!0}}]),a}(n.Component);ue.contextType=f;a(46);var me=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return n.createElement(f.Consumer,null,(function(t){return n.createElement(v.Siteframe,{headerProps:{className:"bg-light-gray paxl",companyName:n.createElement("span",{style:{color:"black"}},"RetroShop"),cols:[n.createElement(C.Grid,Object.assign({className:"grid-show position-fixed type-black em-alt"},{style:{right:"0",height:"window.innerHeight"}},{flexDirection:"row",justifyContent:"space-between"}),n.createElement(C.FlexCol,{fixed:!0},n.createElement("span",null,"Accessories")),n.createElement(C.FlexCol,{fixed:!0},n.createElement("span",null,"Clothes")),n.createElement(C.FlexCol,{fixed:!0},n.createElement("span",null,"Brands")))]},sidebarProps:{className:"bg-decorative-yellow overflow-hidden",primaryLinks:[{text:[n.createElement("img",{alt:"RetroShop logo",key:"logo",style:{width:"90%",margin:"auto"},src:"https://i.imgur.com/ANCnCV1.png"})],id:"logo"},{text:"Coat",path:"/product",id:"1"},{text:"Sunglasses",path:"/product",id:"2"},{text:"Sneakers",path:"/product",id:"3"},{text:"Blazer",path:"/product",id:"4"},{text:"Boots",path:"/product",id:"5"},{text:"Jacket",path:"/product",id:"6"},{text:"All products",path:"/",id:""}],secondaryLinks:[{text:"Shopping Bag"},{text:"Checkout",path:"/checkout",id:"0"}],renderLink:function(e){var a=e.text,r=e.path,l=e.id;return n.createElement(n.Fragment,null,"logo"===l?a:r?n.createElement(m.b,{to:"".concat("/checkout"!==r?"".concat(r).concat(l):t.cart.length>=1?r:"/"),key:l,href:r,style:{padding:"3px",color:"unset",textDecoration:"none"}},n.createElement(N.DefaultButton,{disabled:"/checkout"===r&&0===t.cart.length,className:"0"===l?"":"mlxl pan pui-btn--flat type-black"},a)):n.createElement(N.DefaultButton,{className:"mas",onClick:t.currentCart},a))}}},n.createElement("div",{className:"bg-light-green",style:{height:"100%",width:"auto",overflowX:"hidden"}},n.createElement(x.Panel,{className:"bg-light-green display-flex",style:{backgroundImage:'url("https://i.imgur.com/6Ncy7S2.png")',minWidth:"fit-content",width:"auto",height:"20%",overflow:"auto",padding:"0"}}),n.createElement("div",{className:"bg-white border-rounded",style:{width:"70rem",height:"50rem",margin:"auto",marginTop:"4rem",boxShadow:"0px 3px 5px 0px rgba(0,0,0,0.38)"}},n.createElement(j,{id:e.props.id,product:e.props.product}))))}))}}]),a}(n.Component),de=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).removeFromCart=function(e){var t=n.state,a=t.cart,r=t.total;a.map((function(t){t.id===e&&t.quantity<=1?(r-=parseInt(t.price),n.removeProduct(e,r)):t.id===e&&(t.quantity--,r-=parseInt(t.price),n.setState({cart:a,total:r}))}))},n.getCurrentTotal=function(){var e=0,t=n.state.cart;return void 0!==t||null!==t?(t.forEach((function(t){e+=parseInt(t.price)*t.quantity})),e):0},n.currentCart=function(){n.setState((function(e){return{showCart:!e.showCart}}))},n.addToCart=function(e){var t=n.state,a=t.cart,r=t.total,l=z.find((function(t){return t.id===e})),i=a.find((function(t){return e===t.id}));i?(i.quantity++,r+=parseInt(i.price)):l&&(a.push(l),r+=parseInt(l.price)),n.setState({cart:a,total:r})},n.state={cart:[],addToCart:n.addToCart,removeFromCart:n.removeFromCart,currentCart:n.currentCart,updateScreenWidth:n.updateScreenWidth,showCart:!1,total:0,getCurrentTotal:n.getCurrentTotal,windowWidth:window.innerWidth},n.addToCart=n.addToCart.bind(Object(p.a)(n)),n.removeFromCart=n.removeFromCart.bind(Object(p.a)(n)),n.currentCart=n.currentCart.bind(Object(p.a)(n)),n.setState=n.setState.bind(Object(p.a)(n)),n.getCurrentTotal=n.getCurrentTotal.bind(Object(p.a)(n)),n.updateScreenWidth=n.updateScreenWidth.bind(Object(p.a)(n)),n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state.windowWidth;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.Provider,{value:this.state},this.props.children,r.a.createElement(S.Modal,{dialogClassName:"pbxxl",size:"".concat(t<=481?"100%":"calc(70% + 2rem)"),onHide:function(){return e.setState({showCart:!1})},show:this.state.showCart},this.showCartProducts(),0===this.getCurrentTotal()?null:r.a.createElement("p",{className:"pal em-high float-right"},"Total: ",this.getCurrentTotal(),"kr"))))}},{key:"showCartProducts",value:function(){var e=this.state.windowWidth;return 1<=this.state.cart.length?this.state.cart.map((function(t){return 0===t.quantity?null:r.a.createElement(j,{className:"width-product",showCart:!0,key:t.id,mobileView:e<=481,product:t})})):0===this.state.cart.length?r.a.createElement("p",null,"Looks like your shopping bag is empty..."):void 0}},{key:"removeProduct",value:function(e,t){var a=this.state.cart.filter((function(t){return t.id!==e}));this.setState({cart:a,total:t})}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateScreenWidth)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateScreenWidth)}},{key:"updateScreenWidth",value:function(){this.setState({windowWidth:window.innerWidth})}}]),a}(r.a.Component),pe=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(m.a,{basename:"/DesignSystem-app"},r.a.createElement(de,null,r.a.createElement(b.Provider,{value:new E},r.a.createElement(d.c,null,z.map((function(e){var t="product".concat(e.id);return r.a.createElement(d.a,{key:e.id,path:"/".concat(t)},r.a.createElement(me,{id:e.id,product:e}))})),r.a.createElement(d.a,{path:"/checkout"},r.a.createElement(ue,null)),r.a.createElement(d.a,{path:""},r.a.createElement(R,null))))))}}]),a}(r.a.Component);pe.contextType=f,document.cookie="cross-site-cookie=bar; SameSite=None; Secure",i.a.render(r.a.createElement(pe,null),document.getElementById("root"))},36:function(e,t,a){},59:function(e,t,a){e.exports=a.p+"static/media/leopard-coat.39cbbfe2.jpg"},60:function(e,t,a){e.exports=a.p+"static/media/blazer.175d8079.jpg"},61:function(e,t,a){e.exports=a.p+"static/media/boots.9d92fd2f.jpg"},62:function(e,t,a){e.exports=a.p+"static/media/sunglasses.39774673.jpg"},63:function(e,t,a){e.exports=a.p+"static/media/sneakers.4b5deeac.jpg"},64:function(e,t,a){e.exports=a.p+"static/media/jacket.a09fb58e.jpg"},67:function(e,t,a){e.exports=a(155)},72:function(e,t,a){},86:function(e,t,a){}},[[67,1,2]]]);
//# sourceMappingURL=main.44d8ebfd.chunk.js.map